{"version":3,"sources":["webpack:///./src/views/backstage/5/table2.vue?0601","webpack:///./src/views/backstage/5/table2.vue?302d","webpack:///src/views/backstage/5/table2.vue","webpack:///./src/views/backstage/5/table2.vue?eccd","webpack:///./src/views/backstage/5/table2.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_table2_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_table2_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","size","type","icon","on","click","add","$event","startOrClose","data","tableData","border","stripe","selection-change","handleSelectionChange","align","width","prop","label","min-width","sortable","scopedSlots","_u","key","fn","scope","staticStyle","src","$proxy","row","jzsl","status","disable-transitions","_s","directives","name","rawName","value","total","pageSize","expression","current-page","pageNum","page-size","layout","current-change","handleCurrentChange","visible","dialogVisible","update:visible","dialogName","ref","model","ruleForm","rules","label-width","callback","$$v","$set","min","placeholder","_l","i","id","action","on-success","handleSuccess","autosize","minRows","submitForm","staticRenderFns","table2vue_type_script_lang_js_","multipleSelection","roleList","role_id","order_on","remark","required","message","trigger","created","_this","$ajax","post","then","res","getTableData","methods","_this2","records","rows","clearForm","path","editor","length","$message","warning","Object","objectSpread","formName","_this3","url","$refs","validate","valid","console","log","success","errmsg","_this4","ids","push","val","_5_table2vue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"gHAAA,IAAAA,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAojBE,EAAG,qECAvjB,IAAAE,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,WAAqBE,YAAA,SAAmBF,EAAA,UAAeG,OAAOC,KAAA,UAAgBA,KAAA,WAAeR,EAAAS,GAAA,0BAAAL,EAAA,OAA6CE,YAAA,QAAkBF,EAAA,mBAAAA,EAAA,aAAwCG,OAAOG,KAAA,SAAAC,KAAA,UAAAC,KAAA,gBAAuDC,IAAKC,MAAAd,EAAAe,OAAiBf,EAAAS,GAAA,YAAAL,EAAA,mBAAAA,EAAA,aAA2DG,OAAOG,KAAA,SAAAC,KAAA,UAAAC,KAAA,iBAAwDC,IAAKC,MAAA,SAAAE,GAAyBhB,EAAAiB,aAAA,OAAsBjB,EAAAS,GAAA,QAAAL,EAAA,aAAiCG,OAAOG,KAAA,SAAAC,KAAA,UAAAC,KAAA,iBAAwDC,IAAKC,MAAA,SAAAE,GAAyBhB,EAAAiB,aAAA,OAAsBjB,EAAAS,GAAA,gBAAAL,EAAA,YAAwCE,YAAA,QAAAC,OAA2BW,KAAAlB,EAAAmB,UAAAC,OAAA,GAAAC,OAAA,IAA6CR,IAAKS,mBAAAtB,EAAAuB,yBAA8CnB,EAAA,mBAAwBG,OAAOiB,MAAA,SAAAb,KAAA,YAAAc,MAAA,QAAkDrB,EAAA,mBAAwBG,OAAOiB,MAAA,SAAAE,KAAA,KAAAC,MAAA,KAAAC,YAAA,KAAAC,SAAA,MAA0EzB,EAAA,mBAAwBG,OAAOiB,MAAA,SAAAE,KAAA,WAAAC,MAAA,KAAAC,YAAA,KAAAC,SAAA,MAAgFzB,EAAA,mBAAwBG,OAAOiB,MAAA,SAAAE,KAAA,OAAAC,MAAA,OAAAC,YAAA,SAAiExB,EAAA,mBAAwBG,OAAOiB,MAAA,SAAAE,KAAA,WAAAC,MAAA,OAAAC,YAAA,QAAoExB,EAAA,mBAAwBG,OAAOiB,MAAA,SAAAE,KAAA,OAAAC,MAAA,OAAAC,YAAA,MAA+DE,YAAA9B,EAAA+B,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAA9B,EAAA,OAAkB+B,aAAaV,MAAA,QAAelB,OAAQ6B,IAAApC,EAAAqC,OAAAH,EAAAI,IAAAC,eAAwCnC,EAAA,mBAAwBG,OAAOiB,MAAA,SAAAE,KAAA,SAAAC,MAAA,OAAAC,YAAA,SAAmExB,EAAA,mBAAwBG,OAAOiB,MAAA,SAAAE,KAAA,SAAAC,MAAA,KAAAC,YAAA,KAAAC,SAAA,IAA6EC,YAAA9B,EAAA+B,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAA9B,EAAA,UAAqBG,OAAOI,KAAA,MAAAuB,EAAAI,IAAAE,OAAA,iBAAAC,sBAAA,MAA+EzC,EAAAS,GAAAT,EAAA0C,GAAA,MAAAR,EAAAI,IAAAE,OAAA,sBAA0D,GAAApC,EAAA,iBAA0BuC,aAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAA9C,EAAA+C,MAAA/C,EAAAgD,SAAAC,WAAA,mBAAwF3C,YAAA,aAAAC,OAAkC2C,eAAAlD,EAAAmD,QAAAC,YAAApD,EAAAgD,SAAAK,OAAA,mCAAAN,MAAA/C,EAAA+C,OAAkHlC,IAAKyC,iBAAAtD,EAAAuD,uBAA0CnD,EAAA,aAAkBG,OAAOiD,QAAAxD,EAAAyD,eAA4B5C,IAAK6C,iBAAA,SAAA1C,GAAkChB,EAAAyD,cAAAzC,MAA2BZ,EAAA,UAAeG,OAAOC,KAAA,SAAeA,KAAA,UAAcR,EAAAS,GAAAT,EAAA0C,GAAA1C,EAAA2D,eAAAvD,EAAA,WAAiDwD,IAAA,WAAArD,OAAsBsD,MAAA7D,EAAA8D,SAAAC,MAAA/D,EAAA+D,MAAAC,cAAA,WAA8D5D,EAAA,gBAAqBG,OAAOoB,MAAA,OAAAD,KAAA,UAA8BtB,EAAA,YAAiByD,OAAOf,MAAA9C,EAAA8D,SAAA,KAAAG,SAAA,SAAAC,GAAmDlE,EAAAmE,KAAAnE,EAAA8D,SAAA,OAAAI,IAAoCjB,WAAA,oBAA6B,GAAA7C,EAAA,gBAAyBG,OAAOoB,MAAA,KAAAD,KAAA,UAA4BtB,EAAA,mBAAwBG,OAAO6D,IAAA,GAAQP,OAAQf,MAAA9C,EAAA8D,SAAA,SAAAG,SAAA,SAAAC,GAAuDlE,EAAAmE,KAAAnE,EAAA8D,SAAA,WAAAI,IAAwCjB,WAAA,wBAAiC,GAAA7C,EAAA,gBAAyBG,OAAOoB,MAAA,OAAAD,KAAA,UAA8BtB,EAAA,aAAkBG,OAAO8D,YAAA,WAAwBR,OAAQf,MAAA9C,EAAA8D,SAAA,QAAAG,SAAA,SAAAC,GAAsDlE,EAAAmE,KAAAnE,EAAA8D,SAAA,UAAAI,IAAuCjB,WAAA,qBAAgCjD,EAAAsE,GAAAtE,EAAA,kBAAAuE,GAAmC,OAAAnE,EAAA,aAAuBG,OAAOoB,MAAA4C,EAAA3B,KAAAE,MAAAyB,EAAAC,UAA+B,GAAApE,EAAA,gBAA0BG,OAAOoB,MAAA,KAAAD,KAAA,UAA4BtB,EAAA,kBAAuByD,OAAOf,MAAA9C,EAAA8D,SAAA,OAAAG,SAAA,SAAAC,GAAqDlE,EAAAmE,KAAAnE,EAAA8D,SAAA,SAAAI,IAAsCjB,WAAA,qBAA+B7C,EAAA,YAAiBG,OAAOoB,MAAA,OAAa3B,EAAAS,GAAA,QAAAL,EAAA,YAAgCG,OAAOoB,MAAA,OAAa3B,EAAAS,GAAA,gBAAAL,EAAA,gBAA4CG,OAAOoB,MAAA,UAAgBvB,EAAA,aAAkBG,OAAOkE,OAAAzE,EAAAqC,OAAA,qBAAAqC,aAAA1E,EAAA2E,iBAAyEvE,EAAA,aAAkBG,OAAOG,KAAA,OAAAC,KAAA,UAAAC,KAAA,oBAAwDZ,EAAAS,GAAA,UAAAL,EAAA,OAA6BE,YAAA,iBAAAC,OAAoCC,KAAA,OAAaA,KAAA,QAAYR,EAAAS,GAAA,qCAAAL,EAAA,gBAAiEG,OAAOoB,MAAA,OAAAD,KAAA,YAAgCtB,EAAA,YAAiBG,OAAOI,KAAA,WAAAiE,UAA8BC,QAAA,IAAahB,OAAQf,MAAA9C,EAAA8D,SAAA,OAAAG,SAAA,SAAAC,GAAqDlE,EAAAmE,KAAAnE,EAAA8D,SAAA,SAAAI,IAAsCjB,WAAA,sBAA+B,OAAA7C,EAAA,UAAuBG,OAAOC,KAAA,UAAgBA,KAAA,WAAeJ,EAAA,aAAkBS,IAAIC,MAAA,SAAAE,GAAyBhB,EAAAyD,eAAA,MAA4BzD,EAAAS,GAAA,SAAAL,EAAA,aAAkCG,OAAOI,KAAA,WAAiBE,IAAKC,MAAA,SAAAE,GAAyBhB,EAAA8E,WAAA,gBAA6B9E,EAAAS,GAAA,sBAC7/IsE,iBC+EAC,kCACA9D,KADA,WAEA,OACAC,aACA8D,qBACAjC,SAAA,GACAG,QAAA,EACAJ,MAAA,EACAU,eAAA,EACAE,WAAA,GACAuB,YACApB,UACAlB,KAAA,GACAuC,QAAA,GACAC,SAAA,EACA5C,OAAA,IACAD,KAAA,GACA8C,OAAA,IAEAtB,OACAnB,OACA0C,UAAA,EAAAC,QAAA,OAAAC,QAAA,YAKAC,QA1BA,WA0BA,IAAAC,EAAAzF,KACAA,KAAA0F,MAAAC,KAAA,yBACAC,KAAA,SAAAC,GACAJ,EAAAR,SAAAY,EAAA5E,KAAAgE,WAEAjF,KAAA8F,gBAEAC,SAEAD,aAFA,WAEA,IAAAE,EAAAhG,KACAA,KAAA0F,MAAAC,KAAA,sBAAA5C,SAAA/C,KAAA+C,SAAAG,QAAAlD,KAAAkD,UACA0C,KAAA,SAAAC,GACAG,EAAAlD,MAAA+C,EAAA5E,UAAAgF,QACAD,EAAA9E,UAAA2E,EAAA5E,UAAAiF,QAIAC,UAVA,WAWAnG,KAAA6D,SAAAlB,KAAA,GACA3C,KAAA6D,SAAAqB,QAAA,GACAlF,KAAA6D,SAAAvB,KAAA,GACAtC,KAAA6D,SAAAuB,OAAA,IAGAtE,IAjBA,WAkBAd,KAAAmG,YACAnG,KAAAwD,eAAA,EACAxD,KAAA0D,WAAA,MAGAgB,cAvBA,SAuBAmB,GACA7F,KAAA6D,SAAAvB,KAAAuD,EAAAO,MAGAC,OA3BA,WA4BA,IAAArG,KAAAgF,kBAAAsB,OACAtG,KAAAuG,SAAAC,QAAA,SAEAxG,KAAAgF,kBAAAsB,OAAA,EACAtG,KAAAuG,SAAAC,QAAA,aAGAxG,KAAAwD,eAAA,EACAxD,KAAA0D,WAAA,KACA1D,KAAA6D,SAAA4C,OAAAC,EAAA,KAAAD,IAAAzG,KAAAgF,kBAAA,MAGAH,WAxCA,SAwCA8B,GAAA,IAAAC,EAAA5G,KACA6G,EAAA,OAAA7G,KAAA0D,WAAA,0CACA1D,KAAA8G,MAAAH,GAAAI,SAAA,SAAAC,GACA,IAAAA,EASA,OADAC,QAAAC,IAAA,mBACA,EARAN,EAAAlB,MAAAC,KAAAkB,EAAAD,EAAA/C,UACA+B,KAAA,SAAAC,GACAe,EAAAtD,oBAAA,GACAsD,EAAApD,eAAA,EACAoD,EAAAL,SAAAY,QAAAtB,EAAA5E,KAAAmG,aAQApG,aAxDA,SAwDAuB,GAAA,IAAA8E,EAAArH,KACA,OAAAA,KAAAgF,kBAAAsB,OACAtG,KAAAuG,SAAAC,QAAA,aAEA,CAEA,IADA,IAAAc,KACAhD,EAAA,EAAAA,EAAAtE,KAAAgF,kBAAAsB,OAAAhC,IACAgD,EAAAC,KAAAvH,KAAAgF,kBAAAV,GAAAC,IAEAvE,KAAA0F,MAAAC,KAAA,6BAAA2B,MAAA/E,WACAqD,KAAA,SAAAC,GACAwB,EAAA/D,oBAAA,GACA+D,EAAAd,SAAAY,QAAAtB,EAAA5E,KAAAmG,YAKA9F,sBAzEA,SAyEAkG,GACAP,QAAAC,IAAAM,GACAxH,KAAAgF,kBAAAwC,GAGAlE,oBA9EA,SA8EAkE,GACAxH,KAAAkD,QAAAsE,EACAxH,KAAA8F,mBCjM8W2B,EAAA,0BCQ9WC,EAAgBjB,OAAAkB,EAAA,KAAAlB,CACdgB,EACA3H,EACAgF,GACF,EACA,KACA,KACA,MAIA4C,EAAAE,QAAAC,OAAA,aACeC,EAAA,WAAAJ","file":"js/chunk-e72a10a0.43027b97.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table2.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table2.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"page\"},[_c('header',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"\\n        成长奖章\\n    \")]),_c('div',{staticClass:\"btn\"},[_c('el-button-group',[_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.add}},[_vm._v(\"添加\")])],1),_c('el-button-group',[_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\",\"icon\":\"el-icon-check\"},on:{\"click\":function($event){_vm.startOrClose(1)}}},[_vm._v(\"启用\")]),_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\",\"icon\":\"el-icon-close\"},on:{\"click\":function($event){_vm.startOrClose(2)}}},[_vm._v(\"禁用\")])],1)],1),_c('el-table',{staticClass:\"table\",attrs:{\"data\":_vm.tableData,\"border\":\"\",\"stripe\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"type\":\"selection\",\"width\":\"40\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"bh\",\"label\":\"编号\",\"min-width\":\"40\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"order_on\",\"label\":\"排序\",\"min-width\":\"40\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"name\",\"label\":\"奖章名称\",\"min-width\":\"100\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"rolename\",\"label\":\"使用人员\",\"min-width\":\"80\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"jzsl\",\"label\":\"奖章示例\",\"min-width\":\"50\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticStyle:{\"width\":\"40px\"},attrs:{\"src\":_vm.$proxy+scope.row.jzsl}})]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"remark\",\"label\":\"奖励描述\",\"min-width\":\"150\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"status\",\"label\":\"状态\",\"min-width\":\"40\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.status === '1' ? 'success' : 'info',\"disable-transitions\":\"\"}},[_vm._v(_vm._s(scope.row.status==='1'?'使用':'禁用'))])]}}])})],1),_c('el-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total>_vm.pageSize),expression:\"total>pageSize\"}],staticClass:\"pagination\",attrs:{\"current-page\":_vm.pageNum,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}}),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('header',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.dialogName))]),_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"奖章名称\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.ruleForm.name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"name\", $$v)},expression:\"ruleForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"排序\",\"prop\":\"name\"}},[_c('el-input-number',{attrs:{\"min\":1},model:{value:(_vm.ruleForm.order_on),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"order_on\", $$v)},expression:\"ruleForm.order_on\"}})],1),_c('el-form-item',{attrs:{\"label\":\"使用人员\",\"prop\":\"name\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择使用人员\"},model:{value:(_vm.ruleForm.role_id),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"role_id\", $$v)},expression:\"ruleForm.role_id\"}},_vm._l((_vm.roleList),function(i){return _c('el-option',{attrs:{\"label\":i.name,\"value\":i.id}})}))],1),_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"name\"}},[_c('el-radio-group',{model:{value:(_vm.ruleForm.status),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"status\", $$v)},expression:\"ruleForm.status\"}},[_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"使用\")]),_c('el-radio',{attrs:{\"label\":\"2\"}},[_vm._v(\"禁用\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"奖章示例\"}},[_c('el-upload',{attrs:{\"action\":_vm.$proxy+'/upload/uploadFile',\"on-success\":_vm.handleSuccess}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-upload\"}},[_vm._v(\"选择上传\")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png文件，且不超过500kb\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"奖励描述\",\"prop\":\"remark\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2}},model:{value:(_vm.ruleForm.remark),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"remark\", $$v)},expression:\"ruleForm.remark\"}})],1)],1),_c('footer',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-card class=\"page\">\r\n        <header slot=\"header\">\r\n            成长奖章\r\n        </header>\r\n        <div class=\"btn\">\r\n            <el-button-group>\r\n                <el-button size=\"medium\" type=\"primary\" icon=\"el-icon-plus\" @click=\"add\">添加</el-button>\r\n            </el-button-group>\r\n            <el-button-group>\r\n                <el-button size=\"medium\" type=\"primary\" icon=\"el-icon-check\" @click=\"startOrClose(1)\">启用</el-button>\r\n                <el-button size=\"medium\" type=\"primary\" icon=\"el-icon-close\" @click=\"startOrClose(2)\">禁用</el-button>\r\n            </el-button-group>\r\n        </div>\r\n        <el-table class=\"table\" :data=\"tableData\" border stripe @selection-change=\"handleSelectionChange\">\r\n            <el-table-column align=\"center\" type=\"selection\" width=\"40\"></el-table-column>\r\n            <el-table-column align=\"center\" prop=\"bh\" label=\"编号\" min-width=\"40\" sortable></el-table-column>\r\n            <el-table-column align=\"center\" prop=\"order_on\" label=\"排序\" min-width=\"40\" sortable></el-table-column>\r\n            <el-table-column align=\"center\" prop=\"name\" label=\"奖章名称\" min-width=\"100\"></el-table-column>\r\n            <el-table-column align=\"center\" prop=\"rolename\" label=\"使用人员\" min-width=\"80\"></el-table-column>\r\n            <el-table-column align=\"center\" prop=\"jzsl\" label=\"奖章示例\" min-width=\"50\">\r\n                <template slot-scope=\"scope\">\r\n                    <img style=\"width: 40px\" :src=\"$proxy+scope.row.jzsl\"/>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" prop=\"remark\" label=\"奖励描述\" min-width=\"150\"></el-table-column>\r\n            <el-table-column align=\"center\" prop=\"status\" label=\"状态\" min-width=\"40\" sortable>\r\n                <template slot-scope=\"scope\">\r\n                    <el-tag\r\n                            :type=\"scope.row.status === '1' ? 'success' : 'info'\"\r\n                            disable-transitions>{{scope.row.status==='1'?'使用':'禁用'}}</el-tag>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-pagination class=\"pagination\" v-show=\"total>pageSize\"\r\n                       @current-change=\"handleCurrentChange\"\r\n                       :current-page=pageNum\r\n                       :page-size=pageSize\r\n                       layout=\"total, prev, pager, next, jumper\"\r\n                       :total=total>\r\n        </el-pagination>\r\n        <el-dialog :visible.sync=\"dialogVisible\">\r\n            <header slot=\"title\">{{dialogName}}</header>\r\n            <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\">\r\n                <el-form-item label=\"奖章名称\" prop=\"name\">\r\n                    <el-input v-model=\"ruleForm.name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"排序\" prop=\"name\">\r\n                    <el-input-number v-model=\"ruleForm.order_on\" :min=\"1\"></el-input-number>\r\n                </el-form-item>\r\n                <el-form-item label=\"使用人员\" prop=\"name\">\r\n                    <el-select v-model=\"ruleForm.role_id\" placeholder=\"请选择使用人员\">\r\n                        <el-option v-for=\"i in roleList\" :label=\"i.name\" :value=\"i.id\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"状态\" prop=\"name\">\r\n                    <el-radio-group v-model=\"ruleForm.status\">\r\n                        <el-radio label=\"1\">使用</el-radio>\r\n                        <el-radio label=\"2\">禁用</el-radio>\r\n                    </el-radio-group>\r\n                </el-form-item>\r\n                <el-form-item label=\"奖章示例\">\r\n                    <el-upload :action=\"$proxy+'/upload/uploadFile'\" :on-success=\"handleSuccess\">\r\n                        <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-upload\">选择上传</el-button>\r\n                        <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n                    </el-upload>\r\n                </el-form-item>\r\n                <el-form-item label=\"奖励描述\" prop=\"remark\">\r\n                    <el-input type=\"textarea\" :autosize=\"{ minRows: 2}\" v-model=\"ruleForm.remark\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <footer slot=\"footer\">\r\n                <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">确 定</el-button>\r\n            </footer>\r\n        </el-dialog>\r\n    </el-card>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        tableData: [],\r\n        multipleSelection: [],//多选选择项目\r\n        pageSize:10,//\r\n        pageNum:1,//当前页\r\n        total:1,//总页数\r\n        dialogVisible:false,//弹框是否显示\r\n        dialogName:'',//弹框名\r\n        roleList:[],//使用人员列表\r\n        ruleForm: {\r\n          name: '',//奖章名\r\n          role_id:'',//使用人员\r\n          order_on: 1,//排序\r\n          status: '1',//状态\r\n          jzsl: '',//奖章图片地址\r\n          remark:'',//奖励描述\r\n        },\r\n        rules: {\r\n          name: [\r\n            { required: true, message: '不能为空', trigger: 'blur' },\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    created(){\r\n      this.$ajax.post('/api/medal/toAddMedal')\r\n        .then(res=>{\r\n          this.roleList=res.data.roleList;\r\n        });\r\n      this.getTableData();\r\n    },\r\n    methods: {\r\n      //获取表格数据\r\n      getTableData(){\r\n        this.$ajax.post('/api/medal/getPage', {pageSize:this.pageSize,pageNum:this.pageNum})\r\n          .then(res=>{\r\n            this.total=res.data.data.records;\r\n            this.tableData=res.data.data.rows;\r\n          })\r\n      },\r\n      //清空数据\r\n      clearForm(){\r\n        this.ruleForm.name='';\r\n        this.ruleForm.role_id='';\r\n        this.ruleForm.jzsl='';\r\n        this.ruleForm.remark='';\r\n      },\r\n      //添加\r\n      add(){\r\n        this.clearForm();\r\n        this.dialogVisible=true;\r\n        this.dialogName='添加';\r\n      },\r\n      //图片上传\r\n      handleSuccess(res){\r\n        this.ruleForm.jzsl=res.path;\r\n      },\r\n      //编辑\r\n      editor(){\r\n        if(this.multipleSelection.length===0){\r\n          this.$message.warning('请选择数据');\r\n        }\r\n        else if(this.multipleSelection.length>1){\r\n          this.$message.warning('只能选择一项编辑');\r\n        }\r\n        else {\r\n          this.dialogVisible=true;\r\n          this.dialogName='编辑';\r\n          this.ruleForm={...this.multipleSelection[0]};\r\n        }\r\n      },//提交\r\n      submitForm(formName) {\r\n        let url=this.dialogName==='添加'?'/api/medal/addMedal':'/api/medal/update';\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            this.$ajax.post(url,this.ruleForm)\r\n              .then(res=>{\r\n                this.handleCurrentChange(1);\r\n                this.dialogVisible=false;\r\n                this.$message.success(res.data.errmsg);\r\n              })\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      startOrClose(status){\r\n        if(this.multipleSelection.length===0){\r\n          this.$message.warning('请选择数据');\r\n        }\r\n        else{\r\n          let ids=[];\r\n          for(let i=0;i<this.multipleSelection.length;i++){\r\n            ids.push(this.multipleSelection[i].id);\r\n          }\r\n          this.$ajax.post('/api/medal/setMedalStatus',{ids:ids,status:status})\r\n            .then(res=>{\r\n              this.handleCurrentChange(1);\r\n              this.$message.success(res.data.errmsg)\r\n            })\r\n        }\r\n      },\r\n      //多选\r\n      handleSelectionChange(val) {\r\n        console.log(val);\r\n        this.multipleSelection=val;\r\n      },\r\n      //分页\r\n      handleCurrentChange(val) {\r\n        this.pageNum=val;\r\n        this.getTableData();\r\n      },\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .el-card{\r\n        @extend %width;\r\n        .search{\r\n            background: #f2f2f2;\r\n            padding-top: 20px;\r\n            margin-bottom: 20px;\r\n        }\r\n        .btn{\r\n            margin-bottom: 15px;\r\n            .el-button-group{\r\n                margin-right: 10px;\r\n            }\r\n        }\r\n        .table{\r\n            .cell {\r\n                white-space: pre-line;\r\n            }\r\n        }\r\n        .pagination{\r\n            margin-top: 10px;\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./table2.vue?vue&type=template&id=f5963180&\"\nimport script from \"./table2.vue?vue&type=script&lang=js&\"\nexport * from \"./table2.vue?vue&type=script&lang=js&\"\nimport style0 from \"./table2.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"table2.vue\"\nexport default component.exports"],"sourceRoot":""}