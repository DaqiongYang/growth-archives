{"version":3,"sources":["webpack:///./src/views/backstage/4/table2.vue?8d9b","webpack:///src/views/backstage/4/table2.vue","webpack:///./src/views/backstage/4/table2.vue?b49a","webpack:///./src/views/backstage/4/table2.vue","webpack:///./src/views/backstage/4/table2.vue?1b79"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","size","type","icon","on","click","add","data","tableData","border","stripe","align","prop","label","min-width","sortable","scopedSlots","_u","key","fn","scope","_s","row","xn","xq","per","status","disable-transitions","$event","handleStart","handleDel","visible","dialogVisible","update:visible","dialogName","ref","model","ruleForm","rules","label-width","required","span","value-format","placeholder","value","callback","$$v","$set","expression","min","max","title","submitForm","staticRenderFns","table2vue_type_script_lang_js_","multipleSelection","pageSize","pageNum","total","roleList","xn1","xn2","weekly","startdate","message","trigger","created","getTableData","methods","_this","$ajax","post","then","res","clearForm","formName","_this2","url","$refs","validate","valid","console","log","$message","success","errmsg","_this3","id","_this4","_4_table2vue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_table2_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_table2_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-6a1ea8d8.dc483988.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"page\"},[_c('header',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"\\n        评价设置\\n    \")]),_c('div',{staticClass:\"btn\"},[_c('el-button-group',[_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.add}},[_vm._v(\"添加\")])],1)],1),_c('el-table',{staticClass:\"table\",attrs:{\"data\":_vm.tableData,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"xn\",\"label\":\"学年\",\"min-width\":\"120\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.xn)+\"学年\")])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"xq\",\"label\":\"学期\",\"min-width\":\"80\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(\"第\"+_vm._s(scope.row.xq)+\"学期\")])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"weekly\",\"label\":\"总周次数\",\"min-width\":\"40\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"per\",\"label\":\"评价频率\",\"min-width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(\"每\"+_vm._s(scope.row.per)+\"周\")])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"startdate\",\"label\":\"学期开始日期\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"status\",\"label\":\"状态\",\"min-width\":\"40\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.status === '1' ? 'success' : 'info',\"disable-transitions\":\"\"}},[_vm._v(_vm._s(scope.row.status==='1'?'使用':'停用'))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"min-width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"icon\":\"el-icon-check\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.handleStart(scope.row)}}},[_vm._v(\"使用\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.handleDel(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('header',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.dialogName))]),_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"学年\",\"required\":\"\"}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-form-item',{attrs:{\"prop\":\"xn1\"}},[_c('el-date-picker',{attrs:{\"type\":\"year\",\"value-format\":\"yyyy\",\"placeholder\":\"选择学年\"},model:{value:(_vm.ruleForm.xn1),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"xn1\", $$v)},expression:\"ruleForm.xn1\"}})],1)],1),_c('el-col',{staticClass:\"line\",attrs:{\"span\":2}},[_vm._v(\"-\")]),_c('el-col',{attrs:{\"span\":11}},[_c('el-form-item',{attrs:{\"prop\":\"xn2\"}},[_c('el-date-picker',{attrs:{\"type\":\"year\",\"value-format\":\"yyyy\",\"placeholder\":\"选择学年\"},model:{value:(_vm.ruleForm.xn2),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"xn2\", $$v)},expression:\"ruleForm.xn2\"}})],1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"学期\",\"prop\":\"xq\"}},[_c('el-radio-group',{model:{value:(_vm.ruleForm.xq),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"xq\", $$v)},expression:\"ruleForm.xq\"}},[_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"第1学期\")]),_c('el-radio',{attrs:{\"label\":\"2\"}},[_vm._v(\"第2学期\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"总周次数\"}},[_c('el-input-number',{attrs:{\"min\":1},model:{value:(_vm.ruleForm.weekly),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"weekly\", $$v)},expression:\"ruleForm.weekly\"}})],1),_c('el-form-item',{attrs:{\"label\":\"评价频率\"}},[_c('el-input-number',{attrs:{\"min\":1,\"max\":10},model:{value:(_vm.ruleForm.per),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"per\", $$v)},expression:\"ruleForm.per\"}})],1),_c('el-form-item',{attrs:{\"label\":\"学期开始日\",\"prop\":\"startdate\"}},[_c('el-date-picker',{attrs:{\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.ruleForm.startdate),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"startdate\", $$v)},expression:\"ruleForm.startdate\"}})],1),_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-radio-group',{model:{value:(_vm.ruleForm.status),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"status\", $$v)},expression:\"ruleForm.status\"}},[_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"使用\")]),_c('el-radio',{attrs:{\"label\":\"2\"}},[_vm._v(\"禁用\")])],1)],1)],1),_c('el-alert',{attrs:{\"title\":\"选择为使用后，其他学期将均为停用状态\",\"type\":\"success\"}}),_c('footer',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-card class=\"page\">\r\n        <header slot=\"header\">\r\n            评价设置\r\n        </header>\r\n        <div class=\"btn\">\r\n            <el-button-group>\r\n                <el-button size=\"medium\" type=\"primary\" icon=\"el-icon-plus\" @click=\"add\">添加</el-button>\r\n            </el-button-group>\r\n            <!--<el-button-group>-->\r\n                <!--<el-button size=\"medium\" type=\"primary\" icon=\"el-icon-check\" @click=\"startOrClose(1)\">启用</el-button>-->\r\n                <!--<el-button size=\"medium\" type=\"primary\" icon=\"el-icon-close\" @click=\"startOrClose(2)\">禁用</el-button>-->\r\n            <!--</el-button-group>-->\r\n        </div>\r\n        <el-table class=\"table\" :data=\"tableData\" border stripe>\r\n            <el-table-column align=\"center\" prop=\"xn\" label=\"学年\" min-width=\"120\" sortable>\r\n                <template slot-scope=\"scope\">\r\n                    <span>{{scope.row.xn}}学年</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" prop=\"xq\" label=\"学期\" min-width=\"80\" sortable>\r\n                <template slot-scope=\"scope\">\r\n                    <span>第{{scope.row.xq}}学期</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" prop=\"weekly\" label=\"总周次数\" min-width=\"40\"></el-table-column>\r\n            <el-table-column align=\"center\" prop=\"per\" label=\"评价频率\" min-width=\"80\">\r\n                <template slot-scope=\"scope\">\r\n                    <span>每{{scope.row.per}}周</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" prop=\"startdate\" label=\"学期开始日期\" min-width=\"120\"></el-table-column>\r\n            <el-table-column align=\"center\" prop=\"status\" label=\"状态\" min-width=\"40\" sortable>\r\n                <template slot-scope=\"scope\">\r\n                    <el-tag\r\n                            :type=\"scope.row.status === '1' ? 'success' : 'info'\"\r\n                            disable-transitions>{{scope.row.status==='1'?'使用':'停用'}}</el-tag>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" label=\"操作\" min-width=\"120\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button icon=\"el-icon-check\" size=\"mini\"\r\n                               @click=\"handleStart(scope.row)\">使用</el-button>\r\n                    <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\"\r\n                               @click=\"handleDel(scope.row)\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <el-dialog :visible.sync=\"dialogVisible\">\r\n            <header slot=\"title\">{{dialogName}}</header>\r\n            <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\">\r\n                <el-form-item label=\"学年\" required>\r\n                    <el-col :span=\"11\">\r\n                        <el-form-item prop=\"xn1\">\r\n                            <el-date-picker type=\"year\" value-format=\"yyyy\" placeholder=\"选择学年\" v-model=\"ruleForm.xn1\"></el-date-picker>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col class=\"line\" :span=\"2\">-</el-col>\r\n                    <el-col :span=\"11\">\r\n                        <el-form-item prop=\"xn2\">\r\n                            <el-date-picker type=\"year\" value-format=\"yyyy\" placeholder=\"选择学年\" v-model=\"ruleForm.xn2\"></el-date-picker>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-form-item>\r\n                <el-form-item label=\"学期\" prop=\"xq\">\r\n                    <el-radio-group v-model=\"ruleForm.xq\">\r\n                        <el-radio label=\"1\">第1学期</el-radio>\r\n                        <el-radio label=\"2\">第2学期</el-radio>\r\n                    </el-radio-group>\r\n                </el-form-item>\r\n                <el-form-item label=\"总周次数\">\r\n                    <el-input-number v-model=\"ruleForm.weekly\" :min=\"1\"></el-input-number>\r\n                </el-form-item>\r\n                <el-form-item label=\"评价频率\">\r\n                    <el-input-number v-model=\"ruleForm.per\" :min=\"1\" :max=\"10\"></el-input-number>\r\n                </el-form-item>\r\n                <el-form-item label=\"学期开始日\" prop=\"startdate\">\r\n                    <el-date-picker v-model=\"ruleForm.startdate\" value-format=\"yyyy-MM-dd\"></el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"状态\">\r\n                    <el-radio-group v-model=\"ruleForm.status\">\r\n                        <el-radio label=\"1\">使用</el-radio>\r\n                        <el-radio label=\"2\">禁用</el-radio>\r\n                    </el-radio-group>\r\n                </el-form-item>\r\n            </el-form>\r\n            <el-alert\r\n                    title=\"选择为使用后，其他学期将均为停用状态\"\r\n                    type=\"success\">\r\n            </el-alert>\r\n            <footer slot=\"footer\">\r\n                <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">确 定</el-button>\r\n            </footer>\r\n        </el-dialog>\r\n    </el-card>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        tableData: [],\r\n        multipleSelection: [],//多选选择项目\r\n        pageSize:10,//\r\n        pageNum:1,//当前页\r\n        total:1,//总页数\r\n        dialogVisible:false,//弹框是否显示\r\n        dialogName:'',//弹框名\r\n        roleList:[],//使用人员列表\r\n        ruleForm: {\r\n          xn: '',//学年\r\n          xn1:'',\r\n          xn2:'',\r\n          xq:'1',//学期\r\n          weekly: 1,//总周次数\r\n          per:1,//评价频率\r\n          startdate: '',//学期开始日期\r\n          status: '1',//状态\r\n        },\r\n        rules: {\r\n          xn1: [\r\n            { required: true, message: '请选择开始学年', trigger: 'change' },\r\n          ],\r\n          xn2: [\r\n            { required: true, message: '请选择结束学年', trigger: 'change' },\r\n          ],\r\n          startdate:[\r\n            { required: true, message: '请选择学期开始日期', trigger: 'change' },\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    created(){\r\n      this.getTableData();\r\n    },\r\n    methods: {\r\n      //获取表格数据\r\n      getTableData(){\r\n        this.$ajax.post('/api/processPc/main')\r\n          .then(res=>{\r\n            this.tableData=res.data.data;\r\n          })\r\n      },\r\n      //清空数据\r\n      clearForm(){\r\n        this.ruleForm.xn='';\r\n        this.ruleForm.xn1='';\r\n        this.ruleForm.xn2='';\r\n        this.ruleForm.startdate='';\r\n      },\r\n      //添加\r\n      add(){\r\n        this.clearForm();\r\n        this.dialogVisible=true;\r\n        this.dialogName='添加';\r\n      },\r\n      //提交\r\n      submitForm(formName) {\r\n        let url=this.dialogName==='添加'?'/api/processPc/add':'/api/processPc/update';\r\n        this.ruleForm.xn=this.ruleForm.xn1+'-'+this.ruleForm.xn2;\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            this.$ajax.post(url,this.ruleForm)\r\n              .then(res=>{\r\n                this.getTableData();\r\n                this.dialogVisible=false;\r\n                this.$message.success(res.data.errmsg);\r\n              })\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      //启用或停用\r\n      handleStart(row){\r\n        this.$ajax.post('/api/processPc/updateStatus',{id:row.id})\r\n          .then(res=>{\r\n            this.getTableData();\r\n            this.$message.success(res.data.errmsg);\r\n          })\r\n      },\r\n      //删除\r\n      handleDel(row){\r\n        console.log(row);\r\n        this.$ajax.post('/api/processPc/remove',{id:row.id})\r\n          .then(res=>{\r\n            this.getTableData();\r\n            this.$message.success(res.data.errmsg);\r\n          })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .el-card{\r\n        @extend %width;\r\n        .search{\r\n            background: #f2f2f2;\r\n            padding-top: 20px;\r\n            margin-bottom: 20px;\r\n        }\r\n        .btn{\r\n            margin-bottom: 15px;\r\n            .el-button-group{\r\n                margin-right: 10px;\r\n            }\r\n        }\r\n        .table{\r\n            .cell {\r\n                white-space: pre-line;\r\n            }\r\n        }\r\n        .pagination{\r\n            margin-top: 10px;\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./table2.vue?vue&type=template&id=9426993c&\"\nimport script from \"./table2.vue?vue&type=script&lang=js&\"\nexport * from \"./table2.vue?vue&type=script&lang=js&\"\nimport style0 from \"./table2.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"table2.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table2.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table2.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}