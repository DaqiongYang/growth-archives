(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61813a7f"],{"19bb":function(t,a,s){"use strict";var e=s("47d0"),n=s.n(e);n.a},"47d0":function(t,a,s){},be7e:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"class"},[s("el-card",{staticClass:"header",attrs:{shadow:"hover"}},[t._v("\n        我的班级\n        "),s("el-select",{attrs:{size:"small",placeholder:"选择班级"},on:{change:t.classChange},model:{value:t.classId,callback:function(a){t.classId=a},expression:"classId"}},t._l(t.classList,function(t){return s("el-option",{attrs:{label:t.class_name,value:t.id}})}))],1),s("el-card",{staticClass:"pie",attrs:{shadow:"hover"}},[s("div",{attrs:{id:"sex"}}),s("div",{attrs:{id:"growth"}})]),s("div",{staticClass:"content"},[s("el-card",{staticClass:"left",attrs:{shadow:"hover"}},[s("header",{attrs:{slot:"header"},slot:"header"},[t._v("今日成长")]),s("ul",t._l(t.todayList,function(a){return s("li",[t._v(t._s(a.title)+"，成长值+"+t._s(a.growth))])}))]),s("el-card",{staticClass:"right",attrs:{shadow:"hover"}},[s("header",{attrs:{slot:"header"},slot:"header"},[t._v("整体排名")]),s("el-tabs",{attrs:{"tab-position":"left"},on:{"tab-click":t.handleTab},model:{value:t.countryId,callback:function(a){t.countryId=a},expression:"countryId"}},[s("el-tab-pane",{attrs:{label:"全部",name:"-1"}},[s("ul",{staticClass:"rank-list"},t._l(t.classRankList,function(a,e){return s("li",[s("div",{staticClass:"main"},[s("em",{style:{background:a.color}},[t._v(t._s(e+1))]),s("span",[t._v(t._s(a.user_name)),s("br"),t._v(t._s(a.classname))])]),s("div",{staticClass:"value",style:{color:a.color}},[t._v("+"+t._s(a.growths))])])}))]),t._l(t.countryList,function(a){return s("el-tab-pane",{attrs:{label:a.name,name:a.id}},[s("ul",{staticClass:"rank-list"},t._l(t.classRankList,function(a,e){return s("li",[s("div",{staticClass:"main"},[s("em",{style:{background:a.color}},[t._v(t._s(e+1))]),s("span",[t._v(t._s(a.user_name)),s("br"),t._v(t._s(a.classname))])]),s("div",{staticClass:"value",style:{color:a.color}},[t._v("+"+t._s(a.growths))])])}))])})],2)],1)],1)],1)},n=[],i=(s("cadf"),s("551c"),s("097d"),{name:"class",data:function(){return{classList:[],classId:"",sex:"",growth:"",todayList:[],countryList:[],countryId:"-1",classRankList:[]}},created:function(){var t=this;this.$ajax.post("/api/desktop/getInfo").then(function(a){t.$store.commit("setData",{name:"user",data:a.data.data})}),this.$ajax.post("/api/archives/getClassInfoList").then(function(a){t.classList=a.data.data,t.classId=a.data.data[0].id}).then(function(){t.getSex(),t.getGrowth(),t.getToday(),t.getClassRank()}),this.$ajax.post("/api/dimensionality/main").then(function(a){t.countryList=a.data.data})},methods:{classChange:function(t){this.classId=t,this.getSex(),this.getGrowth(),this.getToday(),this.getClassRank()},getSex:function(){var t=this;this.$ajax.post("/api/myClass/getstudentBL",{classId:this.classId}).then(function(a){t.sex=a.data.data}).then(function(){t.drawSex()})},getGrowth:function(){var t=this;this.$ajax.post("/api/myClass/getRankingBL",{classId:this.classId}).then(function(a){t.growth=a.data.data}).then(function(){t.drawGrowth()})},getToday:function(){var t=this;this.$ajax.post("/api/myClass/getstudentArchives",{classId:this.classId}).then(function(a){t.todayList=a.data.data})},drawSex:function(){var t=this.$echarts.init(document.getElementById("sex"));t.setOption({title:{text:"学生比例",x:"center"},legend:{orient:"vertical",left:"left",data:["男生","女生"]},series:[{name:"学生比例",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:this.sex.boycount,name:"男生"},{value:this.sex.girlcount,name:"女生"}],color:["#01AAED","#5FB878"],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},drawGrowth:function(){var t=this.$echarts.init(document.getElementById("growth"));t.setOption({title:{text:"学生成长值",x:"center"},legend:{orient:"vertical",left:"left",data:["500及以上","400-499","300-399","200-299","199及以下"]},series:[{name:"学生比例",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:this.growth.growth1,name:"500及以上"},{value:this.growth.growth2,name:"400-499"},{value:this.growth.growth3,name:"300-399"},{value:this.growth.growth4,name:"200-299"},{value:this.growth.growth5,name:"199及以下"}],color:["#009688","#5FB878","#1E9FFF","#FFB800","#FF5722"],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},getClassRank:function(){var t=this;this.$ajax.post("/api/myClass/getBjRank",{dimensionalityId:this.countryId,classId:this.classId}).then(function(a){t.classRankList=a.data.data})},handleTab:function(){this.getClassRank()}}}),l=i,o=(s("19bb"),s("2877")),r=Object(o["a"])(l,e,n,!1,null,null,null);r.options.__file="Class.vue";a["default"]=r.exports}}]);
//# sourceMappingURL=chunk-61813a7f.6c0c4319.js.map